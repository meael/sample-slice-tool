# Ralph Progress Log
Started: Sun Feb  1 17:55:14 EET 2026

## Codebase Patterns
- Markers are managed via `useMarkers` hook in `src/hooks/useMarkers.ts`
- Visual marker rendering happens in `WaveformCanvas.tsx` via canvas drawing in `drawWaveform`
- Marker state includes `draggingMarkerIdRef` (ref for interaction) and `draggingMarkerId` (state for re-renders)
- Use state for visual updates that need re-renders, refs for values that change during mouse events

---

## 2026-02-01 - US-001
- Removed persistent marker selection state - markers now only show active styling during drag
- Changed `handleMouseDown` to allow dragging any marker (not just selected ones)
- Added `draggingMarkerId` state for visual feedback during drag only
- Removed keyboard Delete/Backspace deletion (users use context menu or × button instead)
- Updated `handleMouseUp` to not select markers on click
- Files changed:
  - `src/components/WaveformCanvas.tsx`
- **Learnings for future iterations:**
  - The `selectedMarkerId` prop and `onSelectMarker` callback still exist in props interface but are no longer used - left for backwards compatibility
  - Visual active state uses `draggingMarkerId` state variable (triggers re-render) while drag detection uses `draggingMarkerIdRef` (no re-render needed during mouse events)
  - Markers can be deleted via: context menu (right-click) or × button in MarkerControlStrip
---
